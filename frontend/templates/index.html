// Chatbot
const sendBtn = document.getElementById("sendBtn");
const chatResponse = document.getElementById("chatResponse");

sendBtn.addEventListener("click", async () => {
    const message = document.getElementById("userMessage").value;
    if (!message) return;

    chatResponse.innerText = "⏳ Väntar på AI...";
    try {
        const res = await fetch("/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message })
        });
        const data = await res.json();
        chatResponse.innerText = data.reply;
    } catch (err) {
        chatResponse.innerText = "❌ Fel med servern.";
    }
});

// Consultation
const consultBtn = document.getElementById("consultBtn");
const consultResponse = document.getElementById("consultResponse");

consultBtn.addEventListener("click", async () => {
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;
    const message = document.getElementById("message").value;

    consultResponse.innerText = "⏳ Skickar meddelande...";
    try {
        const res = await fetch("/consultation", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, email, phone, message })
        });
        const data = await res.json();
        consultResponse.innerText = data.reply;
    } catch (err) {
        consultResponse.innerText = "❌ Fel med servern.";
    }
});
